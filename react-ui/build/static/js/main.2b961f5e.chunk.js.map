{"version":3,"sources":["services/networker.js","App.js","index.js"],"names":["BASE_URL","process","axios","get","then","res","data","obj","post","id","put","App","useState","persons","setPersons","name","number","newPerson","setNewPerson","notification","setNotification","filter","setFilter","useEffect","Networker","resetNewPerson","doNotify","style","content","setTimeout","notify","color","error","onChangeGenerator","fn","event","target","value","htmlFor","onChange","onSubmit","preventDefault","ep","existingPerson","find","window","confirm","map","p","concat","disabled","type","toUpperCase","includes","idx","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qNAEMA,EAAWC,mHAAYD,UAAZ,WAOF,EALA,kBAAME,IAAMC,IAAIH,GAAUI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAK1C,EAJA,SAACC,GAAD,OAASL,IAAMM,KAAKR,EAAUO,GAAKH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAInD,EAHA,SAACG,EAAIF,GAAL,OAAaL,IAAMQ,IAAN,UAAaV,EAAb,YAAyBS,GAAMF,GACxDH,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SCgFJK,EApFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRC,EADQ,KACCC,EADD,OAEoBF,mBAAS,CAAEG,KAAM,GAAIC,OAAQ,KAFjD,mBAERC,EAFQ,KAEGC,EAFH,OAG0BN,mBAAS,MAHnC,mBAGRO,EAHQ,KAGMC,EAHN,OAIcR,mBAAS,IAJvB,mBAIRS,EAJQ,KAIAC,EAJA,KAMhBC,qBAAW,WACTC,IAAmBpB,MAAK,SAAAS,GAAO,OAAIC,EAAWD,QAC7C,IAEH,IAAMY,EAAiB,kBAAMP,EAAa,CAAEH,KAAM,GAAIC,OAAQ,MAExDU,EAAW,SAAAC,GAAK,OAAI,SAAAC,GACxBC,YAAW,WAAQT,EAAgB,QAAS,KAC5CA,EAAgB,uBAAGO,MAAOA,GAAQC,MAE9BE,EAASJ,EAAS,CAAEK,MAAO,UAC3BC,EAAQN,EAAS,CAAEK,MAAO,QAiC1BE,EAAoB,SAAAC,GAAE,OAAI,SAAAC,GAAK,OAAID,EAAGC,EAAMC,OAAOC,SAIzD,OACE,6BACE,6BACE,2BAAOC,QAAQ,UAAf,WACA,2BAAO7B,GAAG,SAAS4B,MAAOhB,EACxBkB,SAAUN,EAAkBX,MAEhC,yCACCH,EACD,0BAAMqB,SA5CO,SAAAL,GACfA,EAAMM,iBAEN,IAEsBC,EAFhBC,EAAiB9B,EAAQ+B,MAAK,qBAAG7B,OAAoBE,EAAUF,QAMhE4B,GAJiBD,EAUGC,EATvBE,OAAOC,QAAQ,iCAA0BJ,EAAG3B,KAA7B,mCACLE,EAAUD,OADL,MAUfQ,EAAiBmB,EAAelC,GAAIQ,GAAWb,MAAK,SAAAa,GAClDH,EAAYD,EAAQkC,KAAI,SAAAC,GAAC,OAAIA,IAAML,EAC/B1B,EACA0B,MACJb,EAAO,WAAD,OAAYb,EAAUF,KAAtB,wBAA0CE,EAAUD,OAApD,MACNS,QAGFO,EAAM,GAAD,OAAIf,EAAUF,KAAd,qBACLU,MAfAD,EAAiBP,GAAWb,MAAK,SAAAa,GAC/BH,EAAYD,EAAQoC,OAAOhC,IAC3Ba,EAAO,SAAD,OAAUb,EAAUF,KAApB,wBACNU,SAgCA,6BACE,2BAAOa,QAAQ,QAAf,SACA,2BAAO7B,GAAG,OAAO4B,MAAOpB,EAAUF,KAChCwB,SAAUN,GAnBJ,SAAAL,GAAO,OAAIV,EAAa,eAAKD,EAAN,CAAiBF,KAAMa,UAmBZ,6BAC1C,2BAAOU,QAAQ,UAAf,WACA,2BAAO7B,GAAG,SAAS4B,MAAOpB,EAAUD,OAClCuB,SAAUN,GArBF,SAAAL,GAAO,OAAIV,EAAa,eAAKD,EAAN,CAAiBD,OAAQY,WAuB5D,6BACE,4BAAQsB,SArB+B,KAAnBjC,EAAUF,MAAoC,KAArBE,EAAUD,OAqBpBmC,KAAK,UAAxC,SAGJ,uCACEtC,EACCQ,QAAO,qBAAEN,KAAeqC,cAAcC,SAAShC,EAAO+B,kBACtDL,KAAI,SAACC,EAAGM,GAAJ,OAAa,uBAAGC,IAAKD,GAAMN,EAAEjC,KAAhB,IAAuBiC,EAAEhC,aC9EnDwC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.2b961f5e.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst BASE_URL = process.env.BASE_URL || `/persons`\n\nconst getAll = () => axios.get(BASE_URL).then(res => res.data)\nconst create = (obj) => axios.post(BASE_URL, obj).then(res => res.data)\nconst update = (id, obj) => axios.put(`${BASE_URL}/${id}`, obj)\n  .then(res => res.data)\n\nexport default { getAll, create, update }\n","import React, { useState, useEffect } from'react'\nimport Networker from './services/networker'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newPerson, setNewPerson ] = useState({ name: '', number: '' })\n  const [ notification, setNotification ] = useState(null)\n  const [ filter, setFilter ] = useState('')\n\n  useEffect( () => {\n    Networker.getAll().then(persons => setPersons(persons))\n  }, [])\n\n  const resetNewPerson = () => setNewPerson({ name: '', number: '' })\n\n  const doNotify = style => content => {\n    setTimeout(() => { setNotification(null) }, 5000)\n    setNotification(<p style={style}>{content}</p>)\n  }\n  const notify = doNotify({ color: \"green\" })\n  const error = doNotify({ color: \"red\" })\n\n  const onSubmit = event => {\n    event.preventDefault()\n\n    const existingPerson = persons.find(({ name }) => name === newPerson.name)\n\n    const replacePerson = ep =>\n      window.confirm(`Do you want to replace ${ep.name}'s phone number ` +\n        `with ${newPerson.number}?`)\n\n    if (!existingPerson) {\n      Networker.create(newPerson).then(newPerson => {\n        setPersons( persons.concat(newPerson) )\n        notify(`Added ${newPerson.name} to the phone book!`)\n        resetNewPerson()\n      })\n    } else if (replacePerson(existingPerson)) {\n      Networker.update(existingPerson.id, newPerson).then(newPerson => {\n        setPersons( persons.map(p => p === existingPerson\n          ? newPerson\n          : existingPerson) )\n        notify(`Changed ${newPerson.name}'s number to ${newPerson.number}!`)\n        resetNewPerson()\n      })\n    } else {\n      error(`${newPerson.name} already exists!`)\n      resetNewPerson()\n    }\n  }\n\n  const setName = content => setNewPerson({ ...newPerson, name: content })\n  const setNumber = content => setNewPerson({ ...newPerson, number: content })\n  const onChangeGenerator = fn => event => fn(event.target.value)\n\n  const shouldDisable = () => newPerson.name === '' || newPerson.number === ''\n\n  return (\n    <div>\n      <div>\n        <label htmlFor=\"filter\">filter:</label>\n        <input id=\"filter\" value={filter}\n          onChange={onChangeGenerator(setFilter)}/>\n      </div>\n      <h2>Phonebook</h2>\n      {notification}\n      <form onSubmit={onSubmit}>\n        <div>\n          <label htmlFor='name'>name:</label>\n          <input id='name' value={newPerson.name}\n            onChange={onChangeGenerator(setName)} /><br />\n          <label htmlFor='number'>number:</label>\n          <input id='number' value={newPerson.number}\n            onChange={onChangeGenerator(setNumber)} />\n        </div>\n        <div>\n          <button disabled={shouldDisable()} type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      { persons\n        .filter(({name}) => name.toUpperCase().includes(filter.toUpperCase()))\n        .map((p, idx) => (<p key={idx}>{p.name} {p.number}</p>)) }\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}